#!/usr/bin/perl

use Fcntl;


my $in=shift() || die "need a byte - single character, or decimal/oct/hex value.";
my $out=shift() || die "need a block device for output";


my $byte = length($in) == 1 ? $in
: $in =~ /^\d+$/ ? pack("C", $in)
: pack("C", $in =~ /^( 0x[0-9a-fA-F]{2} | 0[0-7]{1,3} )$/x ? oct($1) : $in);

my $data = $byte x 4096;


open(F, ">", $out) or die $!;
for ( 0 .. 31 ) {
	print F $data or die "write: $!";
}
close F or die "close: $!";
